<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Object</title>
  <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
  <style>
    *{
      line-height: 1.5;    }
    code,pre {
      font-family: 'Courier New', Courier, monospace !important;
    }
  </style>
</head>
<body>
  <h2>JS object</h2>
  <pre>
    object là một kiểu dữ liệu của javascript.
    Object có thể lưu trữ tất cả các loại dữ liệu của JS.
    Object sẽ lưu dữ liệu dưới dạng key : value.
    Các cách tạo object:
  </pre>
    <ol>
      <li>
        <pre>
          <code>
          var object = {
            key1 : 'value',
            key2 : 'value 2'
          }
          </code>
        </pre>
      </li>

      <li>
        <pre>
          <code class='language-javascript'>
            function person(name,age){
              this.name = name;
              this.age = age;
              this.showInfo = ()=>{
                return `tên ${this.name} năm nay ${this.age} tuổi`
              }
            }

            var person1 = new person('Sinh',29)
            console.log(person1.showInfo());
            // result : tên Sinh năm nay 29 tuổi
          </code>
        </pre>
      </li>

      <li>
        <pre>
          <code>
            var person2 = {}
            person2.name = 'Sinh'
            person2.age = 29
            person2.showInfo = function(){
              return `tên ${this.name} năm nay ${this.age} tuổi`
            } 
            
            console.log(person2.showInfo()); 
            // result: tên Sinh năm nay 29 tuổi
          </code>
        </pre>
      </li>

      <li>
        <pre>
          <code>
            var person2 = new Object()
            person2.name = 'Sinh'
            person2.age = 29
            person2.showInfo = function(){
              return `tên ${this.name} năm nay ${this.age} tuổi`
            } 
            
            console.log(person2.showInfo()); 
            // result: tên Sinh năm nay 29 tuổi
          </code>
        </pre>
      </li>
    </ol>

    <pre>
      <h3>
        Chú ý: Khi khởi tạo một object. biến chứa object sẽ không chứa các giá trị của object.
        Biến này chỉ chứa giá trị là địa chỉ của ô nhớ chứa object đã tạo mà thôi.
        Do tính chất này nên ta có thể khai báo object bằng từ khóa const
        mà vẫn có thể chỉnh sửa giá trị các thành phàn trong object.
      </h3>
    </pre>

    <pre>
      <code>
      const objA ={a:'a'}
      const objB= objA;
      objb.a = 'd'
      
      var a = 1;
      var b = a;
      a =2;

      console.log(objA, objB); // {a:'d'} {a:'d'} 
      // cả objA và objB giá trị của phần tử trong nó đều bị thay đổi vì 
          giá trị trong vùng nhớ của nó bị thay đổi
  
      console.log(a, b);  // 2 1
        // false bởi vì giá trị của a và c là 2 địa chỉ khác nhau
        // giá trị của a thay đổi nhưng b thì ko vì a và b ở 2 vùng nhớ khác nhau
      </code>
    </pre>

    <pre>
      <code>
      var a ={a:'a'}
      var b= a;
      var c = {a:'a'}

      console.log(a == b); // true 
        // true bởi vì giá trị của a và b đều là địa chỉ của một ô nhớ
      console.log(a == c);  // fale
        // false bởi vì giá trị của a và c là 2 địa chỉ khác nhau
      </code>
    </pre>

    <pre>
      <h3>
       từ khóa this khi ở cấp cao nhất sẽ trả về đối tượng windown (global object)
       khi gọi trong 1 function  nó sẽ trả về windown (global object)
       Khi gọi trong 1 block code nó cũng sẽ trả về windown
       Nhưng khi ở chế độ strict mode hai trường hợp trên sẽ trả về undefined
       khi nó được gọi trong 1 object nó sẽ trả về chính object đó
       khi nó được gọi trong một handleEvent nó sẽ trả về object element của event đó

       trong 2 ví dụ dưới đây với ví dụ thứ 2 nếu sử dụng arrow function sẽ gây ra lỗi 
       do arrow function không có tham chiếu nên this sẽ trả về windown object,
       và undefined khi ở strict mode. còn ví dụ 1 có thể sử dụng tất cả các cách khai báo function trong object
      
       các phương thức bind(), call(), apply() có thể cung cấp đối tượng chỉ định cho this
       để khi gọi this nó sẽ sử dụng đối tượng đó.
      </h3>
    </pre>

   
      <pre>
        <code class='language-javascript'>
          function person(name,age){
            this.name = name;
            this.age = age;
            this.showInfo = ()=>{
              return `tên ${this.name} năm nay ${this.age} tuổi`
            }
          }

          var person1 = new person('Sinh',29)
          console.log(person1.showInfo());
          // result : tên Sinh năm nay 29 tuổi
        </code>
      </pre>

      <pre>
        <code>
          var person2 = {}
          person2.name = 'Sinh'
          person2.age = 29
          person2.showInfo = function(){
            return `tên ${this.name} năm nay ${this.age} tuổi`
          } 
          
          console.log(person2.showInfo()); 
          // result: tên Sinh năm nay 29 tuổi
        </code>
      </pre>

      <pre>
        <h3>Có bốn cách để hiển thị giá trị của các phần tử trong object</h3>
        <code>
          const obj = {
            key1 : 'a',
            key2 : 'b',
            key3 : 'c'
          }

          // display property by key name
          console.log(obj.key1) // a
          console.log(obj['key2']) // b
          
          // display property in a loop
          for(let key in obj){
            console.log(obj[key]) // a b c
          }

          // display object using Object.values()
          const values = Object.values(obj)
          console.log(values); // ['a','b','c']

          // display object using JSON.stringify()
          console.log(JSON.stringify(obj)) // {"key1":"a","key2":"b","key3":"c"}
        </code>
        <h2>
          chú ý khi sử dụng JSON.stringify() method sẽ không chuyển function thành string
        </h2>
      </pre>


    <script>
       const person = {
          name: "John",
          age: function () {return 30;}
        };

        console.log(JSON.stringify(person));
    </script>
</body>

</html>